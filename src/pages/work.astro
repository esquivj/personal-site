---
import Layout from '../layouts/Layout.astro';

// =============================================================================
// PHASE 1: SERVICES ‚Äî Building trust through governance work
// =============================================================================
const servicesMarketing = [
  {
    id: 'proposal-comms',
    title: 'Proposal Amplification',
    subtitle: 'Governance Comms',
    icon: 'üì¢',
    description: 'Every proposal got a comms strategy. Forum posts, vote pushes, outcome announcements.',
    metric: '100+ proposals',
    image: '/work/proposals/unichain.jpg',
    color: '#6366f1',
    modal: {
      fullDescription: 'Custom comms strategy for every governance proposal the team submitted. Each proposal required a different approach based on the DAO, the stakes, and what it would take to pass.',
      role: 'Comms strategy, copywriting, distribution timing',
      highlights: 'Touchpoints across the lifecycle: forum post announcement, temp check promotion, on-chain vote push, passed/outcome announcement. Range from single post to multi-post campaigns depending on significance.',
      images: [
        '/work/proposals/unichain.jpg',
        '/work/proposals/gnosis.jpg',
        '/work/proposals/scroll.jpg',
        '/work/proposals/compound.jpg',
        '/work/proposals/livepeer.jpg',
        '/work/proposals/reserve.jpg',
      ],
    },
  },
  {
    id: 'conference-marketing',
    title: 'Conference Presence',
    subtitle: 'Event Marketing',
    icon: 'üé§',
    description: 'Promoted team attendance at EthCC, Devconnect, Token2049, Korea Blockchain Week. Speaking slots, side events, BD support.',
    metric: '5+ events/year',
    image: '/work/conferences/token2049.png',
    color: '#6366f1',
    modal: {
      fullDescription: 'Marketing support for conference presence. Promoted speaking engagements, created assets for side event participation, amplified team attendance to signal we were active and embedded in the ecosystem.',
      role: 'Content creation, social promotion, asset creation, BD support',
      highlights: 'Conferences attended: EthCC (Paris), Devconnect, Token2049 (Singapore & Dubai), Consensus, Korea Blockchain Week, RWA Summit Seoul, DAO Tokyo.',
      images: [
        '/work/conferences/token2049.png',
        '/work/conferences/token2049-2025.jpg',
        '/work/conferences/ethcc-paris.png',
        '/work/conferences/consensus.png',
        '/work/conferences/devconnect-2025.jpg',
        '/work/conferences/kbw-2025.jpg',
        '/work/conferences/rwa-summit.png',
      ],
    },
  },
];

// =============================================================================
// PHASE 2: PRODUCT LAUNCH ‚Äî Services ‚Üí Product transition
// =============================================================================
const productLaunch = [
  {
    id: 'forse-launch',
    title: 'Forse Launch',
    subtitle: 'Services ‚Üí Product',
    icon: 'üöÄ',
    description: 'Led GTM for a services company launching its first product. "Built by StableLab" let us use the reputation we\'d already earned.',
    metric: 'Full GTM',
    image: '/work/forse-landing.png',
    color: '#FF6B00',
    modal: {
      fullDescription: 'Led the full product launch for Forse, StableLab\'s first product. The play was simple: people trusted StableLab, so we made sure they knew who built this.',
      role: 'Marketing lead ‚Äî naming, brand identity, positioning, all launch collateral, GTM execution',
      highlights: 'First product launch for a company transitioning from services to product. Owned entire arc from naming workshops through launch campaign including blog post, social announcement, and network activation.',
      links: [
        { label: 'Landing Page', url: 'https://forse.io', primary: true },
        { label: 'Launch Post', url: 'https://stablelab.xyz/blog/introducing-forse-by-stablelab' },
        { label: 'Launch Tweet', url: 'https://x.com/Forseapp/status/1805611411252576653' },
      ],
    },
  },
  {
    id: 'forse-rebrand',
    title: 'Forse Rebrand',
    subtitle: 'ICP Discovery',
    icon: 'üîÑ',
    description: 'Discovered DAOs weren\'t the real buyer ‚Äî foundations and labs were. Pivoted the messaging.',
    metric: 'Strategic pivot',
    image: '/work/forse-landing.png',
    color: '#FF6B00',
    modal: {
      fullDescription: 'Initial DAO-focused positioning wasn\'t finding product-market fit. Discovered the real buyers were foundations and labs with budget authority, not DAOs themselves. Led strategic repositioning and full visual rebrand (dark to light theme) to target broader audience.',
      role: 'Strategy, ICP redefinition, new positioning, visual rebrand direction, landing page copy',
      highlights: 'The lesson: the people using governance tools weren\'t the ones buying them. We adapted messaging to speak to foundation operators.',
      beforeAfter: {
        before: { image: '/work/forse-old.png', label: 'Before', tagline: 'Empowering DAOs with Data-Driven Governance' },
        after: { image: '/work/forse-new.png', label: 'After', tagline: 'The Intelligence Layer Fueling Web3 Growth' },
      },
    },
  },
];

// =============================================================================
// PHASE 3: SALES-LED GTM ‚Äî Proof points, relationships, long cycles
// =============================================================================
const salesLed = [
  {
    id: 'sales-enablement',
    title: 'Sales One-Pagers',
    subtitle: 'Proof Points',
    icon: 'üìÑ',
    description: 'Collateral for long-cycle B2B sales. No A/B testing possible ‚Äî had to get it right.',
    metric: '4 assets',
    image: '/work/forse-insights.png',
    color: '#3b82f6',
    modal: {
      fullDescription: 'Created sales enablement materials for a sales-led GTM with long cycles and bespoke deal structures. In B2B with few deals and long timelines, you can\'t A/B test messaging ‚Äî these had to work.',
      role: 'Positioning, copywriting, layout direction',
      highlights: 'Sales-led GTM means marketing\'s job is to arm sales, not generate inbound leads. These had to help close deals, not just explain the product.',
      images: [
        '/work/forse-insights.png',
        '/work/forse-grants.png',
        '/work/forse-grants-visual.png',
        '/work/forse-incentive.png',
      ],
    },
  },
  {
    id: 'scroll-dacc',
    title: 'Scroll D/Acc',
    subtitle: 'Partner Program',
    icon: 'üì£',
    description: 'Partnered with Scroll on delegate training. Drove 80 applicants.',
    metric: '80 applicants',
    color: '#fcb69f',
    modal: {
      fullDescription: 'Marketing support for an 8-week delegate training program with Scroll, SEEDGov, Factory Labs, Proxy, and Open Source Observer. Partnership-driven distribution ‚Äî proof points through collaboration.',
      role: 'Marketing, content creation, program promotion',
      metrics: [
        { label: 'Applicants', value: '80' },
        { label: 'Completion Rate', value: '72.4%' },
        { label: 'Attendance', value: '69%' },
        { label: 'SCR Delegated', value: '100,000' },
      ],
      highlights: 'Co-marketing with ecosystem partners. We open-sourced the curriculum.',
      links: [
        { label: 'Curriculum Hub', url: 'https://scrollzkp.notion.site/Scroll-Delegate-Accelerator-D-Acc-1f47792d22af80d5b53bce40a3e4eea1', primary: true },
        { label: 'Final Report', url: 'https://forum.scroll.io/t/scroll-delegate-accelerator-program-final-report-open-source-curriculum/1325' },
      ],
    },
  },
  {
    id: 'content-strategy',
    title: 'Content Under Constraints',
    subtitle: 'Creative GTM',
    icon: '‚úçÔ∏è',
    description: 'Long cycles and confidentiality meant getting creative about what we could publish.',
    metric: '5 formats',
    color: '#8b5cf6',
    modal: {
      fullDescription: 'Long sales cycles and few closing deals forced creative solutions. Existing work was often not co-marketing ready due to confidentiality or deal structures. Developed content categories that could ship without client sign-off while still signaling capability.',
      role: 'Content strategy, writing, working with data analysts to fill gaps',
      highlights: 'Created repeatable content formats: "Building Forse" (work behind the work), quasi case studies (analyst context filling gaps), product launches (ecosystem credibility), work highlights (anonymized differentiators), and rebrand announcements.',
      blogPosts: [
        { title: 'Building Forse: Data Stack', category: 'Work Behind the Work', image: 'https://framerusercontent.com/images/p3IgX1ZyIvoI0dWrUsa6xqPrpNo.jpg', url: 'https://stablelab.xyz/blog/building-forse-the-data-stack-behind-our-terminals' },
        { title: 'Measuring PYUSD Adoption', category: 'Quasi Case Study', image: 'https://framerusercontent.com/images/LGX66YflfGEGJHe68VvY5zlnsk.jpg', url: 'https://stablelab.xyz/blog/measuring-pyusd-adoption-tvl-cohorts-and-real-usage' },
        { title: 'Forse Grants Platform', category: 'Product Launch', image: 'https://framerusercontent.com/images/iFPpzgtjT4lr3IhEhviIN5Vza4.jpg', url: 'https://stablelab.xyz/blog/introducing-the-forse-grants-management-platform' },
        { title: 'GitHub Activity Index', category: 'Work Highlight', image: 'https://framerusercontent.com/images/rQ2C95NsHZuu3FBXPOcFyUHMx5s.jpg', url: 'https://stablelab.xyz/blog/the-github-activity-index-a-builder-momentum-signal' },
        { title: 'Reintroducing Forse', category: 'Rebrand', image: 'https://framerusercontent.com/images/kteMB3ZICsVeoxEkZ5TAmEcec.jpg', url: 'https://stablelab.xyz/blog/reintroducing-forse-the-intelligence-layer-fueling-web3-growth' },
      ],
    },
  },
];

// =============================================================================
// PHASE 1: BUILDING TRUST ‚Äî Services era thought leadership
// =============================================================================
const trustBuilding = [
  {
    id: 'newsletter',
    title: 'Governance Lab',
    subtitle: 'Thought Leadership',
    icon: 'üì®',
    description: 'Made governance work visible. 121 issues, 38% open rate (2x industry benchmark).',
    metric: '121 issues',
    metricSecondary: '2+ years',
    image: '/work/governance-lab-cover.jpg',
    color: '#6366f1',
    modal: {
      fullDescription: 'The governance analysts did the work ‚Äî votes, rationales, proposals. My job was making sure that work built reputation beyond the forums. Published 121 editions covering Aave, Lido, Compound, Optimism, and Arbitrum.',
      role: 'Editorial direction, writing, curation, distribution',
      metrics: [
        { label: 'Issues Published', value: '121' },
        { label: 'Subscribers', value: '920+' },
        { label: 'Open Rate', value: '38%' },
        { label: 'vs. Industry', value: '2x benchmark' },
      ],
      highlights: 'Phase 1 was trust-building, not lead gen. Each issue included governance analyses, curated links, and a Proposal Tracker with vote summaries.',
      links: [
        { label: 'Read on Substack', url: 'https://stablelab.substack.com', primary: true },
      ],
    },
  },
  {
    id: 'stablepod',
    title: 'StablePod',
    subtitle: 'Credibility',
    icon: 'üéôÔ∏è',
    description: '29 episodes with founders from Morpho, Euler, Gnosis, Uniswap Foundation, Ethena, dYdX.',
    metric: '29 episodes',
    metricSecondary: '29 guests',
    image: '/work/stablepod-cover.jpg',
    color: '#1DB954',
    modal: {
      fullDescription: 'Co-hosted 29 episodes with crypto founders and protocol leaders. The guests did the talking for us: Morpho, Euler, Gnosis, Uniswap Foundation, Optimism Foundation, dYdX Foundation.',
      role: 'Producer, co-host, guest booking, promotion',
      metrics: [
        { label: 'Episodes', value: '29' },
        { label: 'Unique Guests', value: '29' },
        { label: 'Duration', value: '2023‚Äì2025' },
      ],
      guests: 'Paul Frambot (Morpho), Michael Bentley (Euler), Stefan George (Gnosis), Devin Walsh (Uniswap Foundation), Seraphim (Ethena), Jeff "Jiho" Zerlin (Axie), Joshua Watts (dYdX), Justine Humenansky (Optimism), Matt Dobel (Gauntlet), Jack Purdy (Messari), and more.',
      links: [
        { label: 'Archive Site', url: 'https://stablepod.vercel.app', primary: true },
        { label: 'Spotify', url: 'https://open.spotify.com/show/4LZVPrxKohIaLjgvQRbVwI' },
        { label: 'YouTube', url: 'https://www.youtube.com/@StableLabxyz' },
        { label: 'Apple Podcasts', url: 'https://podcasts.apple.com/us/podcast/stablepod/id1695253636' },
      ],
    },
  },
];

// =============================================================================
// SUPPORTING WORK
// =============================================================================
const supportingWork = {
  governanceGathering: {
    id: 'governance-gathering',
    title: 'A Governance Gathering',
    subtitle: 'Side Event',
    icon: 'üé™',
    description: 'Networking event during EthCC Brussels. Co-hosted with UMA, Wormhole, Tally.',
    metric: '150+ attendees',
    image: '/work/governance-gathering.avif',
    color: '#7c3aed',
    modal: {
      fullDescription: 'Initiated and project-managed a networking event during EthCC [7] in Brussels. Built credibility and relationships during the services era. Co-hosted with UMA, Wormhole, and Tally.',
      role: 'Initiated idea, project management, co-host sourcing, budget management, event coordination',
      metrics: [
        { label: 'Attendees', value: '150+' },
        { label: 'Registrations', value: '258' },
        { label: 'Co-hosts', value: '4' },
        { label: 'Event', value: 'EthCC [7]' },
      ],
      cohosts: 'UMA, Wormhole, Tally',
      highlights: 'Built partnerships with Gauntlet, Karpatkey, and Spark. Network-driven attendance through direct outreach.',
      images: [
        '/work/agg/event-4.jpg',
        '/work/agg/event-5.jpg',
        '/work/agg/event-6.jpg',
        '/work/agg/event-1.jpeg',
        '/work/agg/event-2.jpeg',
        '/work/agg/event-3.jpeg',
      ],
      links: [
        { label: 'Event Page', url: 'https://lu.ma/l5tvcrcb', primary: true },
      ],
    },
  },
  swag: {
    id: 'team-swag',
    title: 'Team Swag',
    subtitle: 'Creative Direction',
    icon: 'üé®',
    description: 'Creative directed internal swag for team offsites and conferences.',
    metric: '8 items',
    image: '/work/swag/G38s2xAbUAckcN8.jpeg',
    color: '#8B5CF6',
    previewImages: [
      '/work/swag/G38s2xAbUAckcN8.jpeg',
      '/work/swag/G4CFb5KaQAAudN8.jpeg',
      '/work/swag/Gb3M36_bwAQzwTy.jpeg',
    ],
    extraCount: 5,
    modal: {
      fullDescription: 'Creative directed internal swag for team offsites and conferences. Worked with in-house designer on concepts, managed production, and coordinated distribution with vendor.',
      role: 'Creative direction, project management, vendor coordination',
      images: [
        '/work/swag/G38s2xAbUAckcN8.jpeg',
        '/work/swag/G4CFb5KaQAAudN8.jpeg',
        '/work/swag/Gb3M36_bwAQzwTy.jpeg',
        '/work/swag/GbxxrkraMAEk-N6.jpeg',
        '/work/swag/GE1n8HsacAAogMP.jpeg',
        '/work/swag/GgEpB6qW8AAkzuw.jpeg',
        '/work/swag/SL KL Offsite Stickers and Camera.jpg',
        '/work/swag/3DF2A30A-03E2-4B17-BCAC-618CF29C719C_1_105_c.jpg',
      ],
    },
  },
};

const behindTheScenes = {
  id: 'behind-the-scenes',
  title: 'Behind the Scenes',
  subtitle: 'Content Capture',
  icon: 'üì∑',
  description: 'Moments from offsites, conferences, and team life.',
  image: '/work/behind-the-scenes.png',
  color: '#ec4899',
  modal: {
    fullDescription: 'Pushed for content capture at every offsite. Started a disposable camera tradition with categories and prizes. These moments became fuel for posts, videos, and team culture.',
    role: 'Initiated content capture culture, ran photo competitions, curated moments',
    highlights: 'Created rituals that got the team documenting together. Built up a collection of real moments to pull from.',
  },
};

const visualWork = {
  landingPages: [
    { title: 'Forse.io', description: 'Product landing page ‚Äî positioning and copy', image: '/work/forse-landing.png', url: '/work/forse-landing.png' },
    { title: 'StableLab.xyz', description: 'Services landing page ‚Äî positioning and copy', image: '/work/stablelab-landing.png', url: '/work/stablelab-landing.png' },
  ],
};

const teamVideos = [
  {
    title: 'Memories of Bodrum',
    description: 'Cinematic recap of our team offsite in Bodrum, Turkey.',
    year: '2025',
    youtubeId: 'R8k1o2b9HhU',
  },
  {
    title: 'A Year in Review 2024',
    description: 'End-of-year recap video covering StableLab\'s 2024 highlights.',
    year: '2024',
    youtubeId: '0jjzvV1jUQM',
  },
  {
    title: 'Memories of Phuket',
    description: 'Cinematic team culture video from Phuket offsite.',
    year: '2024',
    youtubeId: 'lQtC02UaiuQ',
  },
  {
    title: 'Phuket Team Offsite',
    description: 'Full documentary-style coverage of the Phuket 2024 offsite.',
    year: '2024',
    youtubeId: '7MW6yNj45po',
  },
  {
    title: 'In Conversation w/ Gustav',
    description: 'Interview with CEO & Co-founder Gustav Arentoft at Phuket offsite.',
    year: '2024',
    youtubeId: 'bdQxQ71DIJE',
  },
  {
    title: 'Kuala Lumpur Offsite',
    description: 'Team offsite highlights from Kuala Lumpur 2024.',
    year: '2024',
    youtubeId: 'jbgb3jXZA0o',
  },
];
---

<Layout title="Work ‚Äî Juan Esquivel" description="B2B marketing across three phases: building trust, launching products, enabling sales.">
  <header class="header">
    <a href="/" class="back-link">‚Üê Back</a>
  </header>

  <main>
    <div class="page-intro">
      <h1>Work</h1>
      <p class="intro">At StableLab, I led marketing across three distinct business phases. Each required a different approach because the business context changed. That's the throughline.</p>
    </div>

    <!-- Phase Timeline -->
    <div class="timeline">
      <div class="timeline-phase">
        <div class="timeline-dot dot-services"></div>
        <div class="timeline-label">Services</div>
        <div class="timeline-desc">Building Trust</div>
        <div class="timeline-years">2023</div>
      </div>
      <div class="timeline-line"></div>
      <div class="timeline-phase">
        <div class="timeline-dot dot-product"></div>
        <div class="timeline-label">Product</div>
        <div class="timeline-desc">Launch & Pivot</div>
        <div class="timeline-years">2024</div>
      </div>
      <div class="timeline-line"></div>
      <div class="timeline-phase">
        <div class="timeline-dot dot-sales"></div>
        <div class="timeline-label">Sales-Led</div>
        <div class="timeline-desc">GTM & Proof Points</div>
        <div class="timeline-years">2024‚Äì25</div>
      </div>
    </div>

    <!-- Flagship Work -->
    <section class="section flagship-section">
      <h2>Flagship Work</h2>
      <p class="section-subtitle">The work I'm proudest of. Built from zero, sustained over years.</p>
      <div class="flagship-grid">
        <button class="flagship-card" data-modal="stablepod" style="--accent: #1DB954">
          <div class="flagship-image">
            <img src="/work/stablepod-cover.jpg" alt="StablePod" loading="lazy" />
          </div>
          <div class="flagship-content">
            <div class="flagship-header">
              <h3>StablePod</h3>
              <span class="flagship-badge">2023‚Äì2025</span>
            </div>
            <p class="flagship-description">29 episodes with crypto founders and protocol leaders. The guest list was the credibility signal: Morpho, Euler, Gnosis, Uniswap Foundation, Optimism, Ethena, dYdX.</p>
            <div class="flagship-metrics">
              <div class="flagship-metric">
                <span class="flagship-metric-value">29</span>
                <span class="flagship-metric-label">Episodes</span>
              </div>
              <div class="flagship-metric">
                <span class="flagship-metric-value">29</span>
                <span class="flagship-metric-label">Guests</span>
              </div>
            </div>
          </div>
        </button>
        <button class="flagship-card" data-modal="newsletter" style="--accent: #6366f1">
          <div class="flagship-image">
            <img src="/work/governance-lab-cover.jpg" alt="Governance Lab Newsletter" loading="lazy" />
          </div>
          <div class="flagship-content">
            <div class="flagship-header">
              <h3>Governance Lab</h3>
              <span class="flagship-badge">Newsletter</span>
            </div>
            <p class="flagship-description">Made governance work visible. 121 editions covering Aave, Lido, Compound, Optimism, and Arbitrum. Built from zero with organic growth only.</p>
            <div class="flagship-metrics">
              <div class="flagship-metric">
                <span class="flagship-metric-value">121</span>
                <span class="flagship-metric-label">Issues</span>
              </div>
              <div class="flagship-metric">
                <span class="flagship-metric-value">38%</span>
                <span class="flagship-metric-label">Open Rate</span>
              </div>
              <div class="flagship-metric">
                <span class="flagship-metric-value">920+</span>
                <span class="flagship-metric-label">Subscribers</span>
              </div>
            </div>
          </div>
        </button>
      </div>
    </section>

    <!-- Phase 1: Building Trust -->
    <section class="section phase-section">
      <div class="phase-header">
        <div class="phase-number">01</div>
        <div class="phase-title-block">
          <h2>Building Trust</h2>
          <p class="phase-context">Services business. Marketing wasn't about lead gen‚Äîit was making sure the governance work built reputation beyond the forums.</p>
        </div>
      </div>
      <div class="phase-insight">
        <span class="insight-label">The insight</span>
        <p>The governance analysts did the work. My job was making sure the work got seen. Content showed we knew what we were talking about.</p>
      </div>
      <p class="phase-note">See <strong>Flagship Work</strong> above for StablePod and Governance Lab Newsletter‚Äîthe main outputs from this phase.</p>

      <div class="campaign-grid" style="margin-left: 2rem;">
        {servicesMarketing.map((item) => (
          <button
            class="campaign-card"
            data-modal={item.id}
            style={`--accent: ${item.color}`}
          >
            <div class="campaign-image">
              {item.image ? (
                <img src={item.image} alt={item.title} loading="lazy" />
              ) : (
                <div class="campaign-placeholder" style={`--accent: ${item.color}`}>
                  <span>{item.icon}</span>
                </div>
              )}
            </div>
            <div class="campaign-content">
              <div class="campaign-header">
                <h3>{item.title}</h3>
                <span class="campaign-badge">{item.metric}</span>
              </div>
              <p class="campaign-subtitle">{item.subtitle}</p>
              <p class="campaign-description">{item.description}</p>
            </div>
          </button>
        ))}
      </div>

      <div class="partners-cloud">
        <img src="/work/partners.png" alt="Protocols we worked with: Aave, Arbitrum, Optimism, Uniswap, Lido, Compound, Gnosis, and 40+ others" loading="lazy" />
      </div>
    </section>

    <!-- Phase 2: Product Launch -->
    <section class="section phase-section">
      <div class="phase-header">
        <div class="phase-number">02</div>
        <div class="phase-title-block">
          <h2>Product Launch</h2>
          <p class="phase-context">Services company launches first product. The challenge: how do you market something new when your brand is known for something else?</p>
        </div>
      </div>
      <div class="phase-insight">
        <span class="insight-label">The insight</span>
        <p>"Built by StableLab" became the positioning‚Äîborrowing trust from the services brand while building product credibility. Then we discovered DAOs weren't the real buyer. Foundations and labs were.</p>
      </div>
      <div class="hero-grid">
        {productLaunch.map((item) => (
          <button
            class="hero-card"
            data-modal={item.id}
            style={`--accent: ${item.color}`}
          >
            <div class="hero-image">
              <img src={item.image} alt={item.title} loading="lazy" />
            </div>
            <div class="hero-content">
              <div class="hero-header">
                <h3>{item.title}</h3>
                <span class="hero-badge">{item.subtitle}</span>
              </div>
              <p class="hero-description">{item.description}</p>
              <div class="hero-metrics">
                <span class="metric-primary">{item.metric}</span>
              </div>
            </div>
          </button>
        ))}
      </div>
    </section>

    <!-- Phase 3: Sales-Led GTM -->
    <section class="section phase-section">
      <div class="phase-header">
        <div class="phase-number">03</div>
        <div class="phase-title-block">
          <h2>Sales-Led GTM</h2>
          <p class="phase-context">Enterprise B2B with long cycles. Marketing's job shifted from awareness to giving sales something to sell with.</p>
        </div>
      </div>
      <div class="phase-insight">
        <span class="insight-label">The insight</span>
        <p>You can't A/B test with 10 deals a year. Buyers are cyclical‚Äîcatch them at setup or re-architecture, not mid-flight. Public credibility (events, partnerships) enabled private sales conversations.</p>
      </div>
      <div class="campaign-grid">
        {salesLed.map((item) => (
          <button
            class="campaign-card"
            data-modal={item.id}
            style={`--accent: ${item.color}`}
          >
            <div class="campaign-image">
              {item.image ? (
                <img src={item.image} alt={item.title} loading="lazy" />
              ) : (
                <div class="campaign-placeholder" style={`--accent: ${item.color}`}>
                  <span>{item.icon}</span>
                </div>
              )}
            </div>
            <div class="campaign-content">
              <div class="campaign-header">
                <h3>{item.title}</h3>
                <span class="campaign-badge">{item.metric}</span>
              </div>
              <p class="campaign-subtitle">{item.subtitle}</p>
              <p class="campaign-description">{item.description}</p>
            </div>
          </button>
        ))}
      </div>
    </section>

    <!-- Supporting Work -->
    <section class="section">
      <h2>Supporting Work</h2>
      <p class="section-subtitle">Landing pages, sales collateral, and internal creative.</p>
      <div class="visual-grid visual-grid-2">
        {visualWork.landingPages.map((item) => (
          <a href={item.url} target="_blank" class="visual-card">
            <img src={item.image} alt={item.title} loading="lazy" />
            <div class="visual-meta">
              <h3>{item.title}</h3>
              <p>{item.description}</p>
            </div>
          </a>
        ))}
        <button class="visual-card" data-modal="governance-gathering">
          <img src={supportingWork.governanceGathering.image} alt="A Governance Gathering" loading="lazy" />
          <div class="visual-meta">
            <h3>A Governance Gathering</h3>
            <p>Side event ¬∑ 150+ attendees</p>
          </div>
        </button>
        <button class="visual-card" data-modal="team-swag">
          <div class="swag-visual-preview">
            <img src={supportingWork.swag.previewImages[0]} alt="Team Swag" loading="lazy" class="swag-main" />
            <div class="swag-stack">
              <img src={supportingWork.swag.previewImages[1]} alt="Team Swag" loading="lazy" />
              <img src={supportingWork.swag.previewImages[2]} alt="Team Swag" loading="lazy" />
            </div>
          </div>
          <div class="visual-meta">
            <h3>Team Swag</h3>
            <p>Creative direction for offsites</p>
          </div>
        </button>
      </div>
    </section>

    <!-- Storytelling -->
    <section class="section">
      <h2>Storytelling</h2>
      <p class="section-subtitle">Behind-the-scenes videos and content captured during team offsites.</p>

      <button class="bts-card" data-modal="behind-the-scenes">
        <img src={behindTheScenes.image} alt="Behind the Scenes" loading="lazy" />
        <div class="bts-overlay">
          <h3>Behind the Scenes</h3>
          <p>Moments from offsites, conferences, and team life</p>
        </div>
      </button>

      <div class="team-video-grid">
        {teamVideos.map((video) => (
          <a href={`https://youtu.be/${video.youtubeId}`} target="_blank" class="team-video-card">
            <img src={`https://img.youtube.com/vi/${video.youtubeId}/mqdefault.jpg`} alt={video.title} loading="lazy" />
            <div class="team-video-play">
              <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            </div>
            <div class="team-video-info">
              <h3>{video.title}</h3>
              <p>{video.description}</p>
              <span class="team-video-year">{video.year}</span>
            </div>
          </a>
        ))}
      </div>
    </section>

  </main>

  <!-- Modal Container -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal" id="modal" role="dialog" aria-modal="true">
      <button class="modal-close" id="modalClose" aria-label="Close modal">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
      </button>
      <div class="modal-content" id="modalContent">
        <!-- Content injected by JS -->
      </div>
    </div>
  </div>

  <!-- Modal Data -->
  <script define:vars={{ servicesMarketing, productLaunch, salesLed, trustBuilding, supportingWork, behindTheScenes }}>
    window.workData = [...servicesMarketing, ...productLaunch, ...salesLed, ...trustBuilding, supportingWork.governanceGathering, supportingWork.swag, behindTheScenes].reduce((acc, item) => {
      acc[item.id] = item;
      return acc;
    }, {});
  </script>
</Layout>

<style>
  .header {
    margin-bottom: 3rem;
  }

  .back-link {
    font-size: 0.8125rem;
    color: #666;
    transition: color 0.2s ease;
    letter-spacing: 0.02em;
  }

  .back-link:hover {
    color: #a3a3a3;
  }

  h1 {
    font-size: 2.5rem;
    font-weight: 500;
    margin-bottom: 1rem;
    letter-spacing: -0.02em;
  }

  .page-intro {
    margin-bottom: 3rem;
  }

  .intro {
    color: #777;
    margin-bottom: 3rem;
    font-size: 1.0625rem;
    line-height: 1.7;
    max-width: 600px;
  }

  .intro strong {
    color: #b3b3b3;
    font-weight: 500;
  }

  /* Timeline */
  .timeline {
    display: flex;
    align-items: flex-start;
    justify-content: center;
    gap: 0;
    margin-bottom: 5rem;
    padding: 2rem 0;
  }

  .timeline-phase {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    min-width: 100px;
  }

  .timeline-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: none;
    position: relative;
  }

  .dot-services {
    background: #6366f1;
    box-shadow: 0 0 12px rgba(99, 102, 241, 0.5), 0 0 24px rgba(99, 102, 241, 0.25);
  }

  .dot-product {
    background: #f97316;
    box-shadow: 0 0 12px rgba(249, 115, 22, 0.5), 0 0 24px rgba(249, 115, 22, 0.25);
  }

  .dot-sales {
    background: #22c55e;
    box-shadow: 0 0 12px rgba(34, 197, 94, 0.5), 0 0 24px rgba(34, 197, 94, 0.25);
  }

  .timeline-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: #e5e5e5;
    margin-top: 0.25rem;
  }

  .timeline-desc {
    font-size: 0.75rem;
    color: #555;
  }

  .timeline-years {
    font-size: 0.6875rem;
    color: #444;
    margin-top: 0.25rem;
  }

  .timeline-line {
    flex: 1;
    height: 1px;
    background: #222;
    margin-top: 5px;
    max-width: 80px;
    min-width: 40px;
  }

  @media (max-width: 480px) {
    .timeline {
      flex-direction: column;
      align-items: flex-start;
      gap: 0;
    }

    .timeline-phase {
      flex-direction: row;
      align-items: flex-start;
      gap: 1rem;
      min-width: auto;
    }

    .timeline-line {
      width: 1px;
      height: 24px;
      min-width: 1px;
      max-width: 1px;
      margin: 0;
      margin-left: 4px;
    }

    .timeline-desc {
      margin-top: 0;
    }

    .timeline-years {
      margin-top: 0.125rem;
    }
  }

  /* Phase section hero grid needs margin when following insight */
  .phase-section .hero-grid {
    margin-left: 2rem;
  }

  .phase-section .campaign-grid {
    margin-left: 2rem;
  }

  @media (max-width: 540px) {
    .phase-section .hero-grid,
    .phase-section .campaign-grid {
      margin-left: 0;
    }
  }

  /* Flagship Section */
  .flagship-section {
    margin-bottom: 5rem;
    padding-bottom: 3rem;
    border-bottom: 1px solid #1a1a1a;
  }

  .flagship-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
  }

  @media (max-width: 700px) {
    .flagship-grid {
      grid-template-columns: 1fr;
    }
  }

  .flagship-card {
    display: flex;
    flex-direction: column;
    background: #0d0d0d;
    border: 1px solid #1f1f1f;
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
    font-family: inherit;
    color: inherit;
  }

  .flagship-card:hover {
    background: #111;
    border-color: #2a2a2a;
    transform: translateY(-2px);
  }

  .flagship-image {
    width: 100%;
    height: 180px;
    overflow: hidden;
  }

  .flagship-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .flagship-card:hover .flagship-image img {
    transform: scale(1.03);
  }

  .flagship-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.875rem;
  }

  .flagship-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
  }

  .flagship-header h3 {
    font-size: 1.25rem;
    font-weight: 600;
    letter-spacing: -0.02em;
    color: #f0f0f0;
  }

  .flagship-badge {
    font-size: 0.6875rem;
    font-weight: 500;
    color: #666;
    padding: 0.25rem 0.625rem;
    background: #1a1a1a;
    border-radius: 4px;
    white-space: nowrap;
  }

  .flagship-description {
    font-size: 0.9375rem;
    color: #777;
    line-height: 1.6;
  }

  .flagship-metrics {
    display: flex;
    gap: 1.5rem;
    margin-top: 0.5rem;
    padding-top: 1rem;
    border-top: 1px solid #1a1a1a;
  }

  .flagship-metric {
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
  }

  .flagship-metric-value {
    font-size: 1.375rem;
    font-weight: 700;
    color: #e5e5e5;
    letter-spacing: -0.02em;
  }

  .flagship-metric-label {
    font-size: 0.6875rem;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* Sections */
  .section {
    margin-bottom: 6rem;
  }

  .section h2 {
    font-size: 0.75rem;
    font-weight: 500;
    color: #444;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: 2rem;
  }

  .section-subtitle {
    color: #555;
    font-size: 0.9375rem;
    margin-bottom: 2rem;
    margin-top: -1rem;
    line-height: 1.5;
  }

  /* Phase Sections */
  .phase-section {
    margin-bottom: 5rem;
  }

  .phase-header {
    display: flex;
    gap: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .phase-number {
    font-size: 0.75rem;
    font-weight: 600;
    color: #333;
    padding-top: 0.25rem;
  }

  .phase-title-block h2 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #e5e5e5;
    text-transform: none;
    letter-spacing: -0.01em;
    margin-bottom: 0.5rem;
  }

  .phase-context {
    font-size: 0.9375rem;
    color: #666;
    line-height: 1.55;
    max-width: 540px;
  }

  .phase-insight {
    background: #0d0d0d;
    border: 1px solid #1a1a1a;
    border-radius: 8px;
    padding: 1.25rem 1.5rem;
    margin-bottom: 2rem;
    margin-left: 2rem;
  }

  .insight-label {
    font-size: 0.625rem;
    font-weight: 600;
    color: #444;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    display: block;
    margin-bottom: 0.5rem;
  }

  .phase-insight p {
    font-size: 0.9375rem;
    color: #888;
    line-height: 1.6;
  }

  .phase-note {
    font-size: 0.875rem;
    color: #555;
    margin-left: 2rem;
    padding: 1rem 1.25rem;
    background: transparent;
    border-left: 2px solid #1f1f1f;
  }

  .phase-note strong {
    color: #777;
    font-weight: 500;
  }

  @media (max-width: 540px) {
    .phase-header {
      flex-direction: column;
      gap: 0.5rem;
    }

    .phase-insight,
    .phase-note {
      margin-left: 0;
    }
  }

  .partners-cloud {
    margin-top: 2rem;
    margin-left: 2rem;
    border-radius: 12px;
    overflow: hidden;
    opacity: 0.85;
    transition: opacity 0.3s ease;
  }

  .partners-cloud:hover {
    opacity: 1;
  }

  .partners-cloud img {
    width: 100%;
    height: auto;
    display: block;
  }

  @media (max-width: 540px) {
    .partners-cloud {
      margin-left: 0;
    }
  }

  .inline-link {
    color: #a3a3a3;
    text-decoration: underline;
    text-underline-offset: 2px;
  }

  .inline-link:hover {
    color: #fff;
  }

  /* Hero Cards */
  .hero-section {
    margin-bottom: 6rem;
  }

  .hero-grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .hero-card {
    display: flex;
    flex-direction: row;
    background: transparent;
    border: 1px solid #1a1a1a;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
    width: 100%;
    font-family: inherit;
    color: inherit;
  }

  .hero-card:hover {
    background: #0f0f0f;
    border-color: #252525;
  }

  .hero-image {
    width: 200px;
    min-width: 200px;
    height: 150px;
    overflow: hidden;
    flex-shrink: 0;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .hero-card:hover .hero-image img {
    transform: scale(1.03);
  }

  .hero-content {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    flex: 1;
  }

  .hero-header {
    display: flex;
    align-items: center;
    gap: 0.875rem;
    margin-bottom: 0.625rem;
  }

  .hero-header h3 {
    font-size: 1.1875rem;
    font-weight: 500;
    letter-spacing: -0.01em;
  }

  .hero-badge {
    font-size: 0.625rem;
    font-weight: 500;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    padding: 0.25rem 0.5rem;
    background: transparent;
    border: 1px solid #2a2a2a;
    border-radius: 3px;
  }

  .hero-description {
    font-size: 0.9375rem;
    color: #666;
    margin-bottom: 1rem;
    line-height: 1.55;
  }

  .hero-metrics {
    display: flex;
    gap: 1.25rem;
    align-items: baseline;
  }

  .metric-primary {
    font-size: 0.875rem;
    font-weight: 500;
    color: #888;
  }

  .metric-secondary {
    font-size: 0.8125rem;
    color: #555;
  }

  @media (max-width: 540px) {
    .hero-card {
      flex-direction: column;
    }

    .hero-image {
      width: 100%;
      height: 160px;
    }
  }

  /* Campaign Cards */
  .campaign-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  @media (max-width: 540px) {
    .campaign-grid {
      grid-template-columns: 1fr;
    }
  }

  .campaign-card {
    display: flex;
    flex-direction: column;
    background: transparent;
    border: 1px solid #1a1a1a;
    border-radius: 6px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
    font-family: inherit;
    color: inherit;
  }

  .campaign-card:hover {
    background: #0f0f0f;
    border-color: #252525;
  }

  .campaign-image {
    aspect-ratio: 16/9;
    overflow: hidden;
  }

  .campaign-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    transition: transform 0.4s ease;
  }

  .campaign-card:hover .campaign-image img {
    transform: scale(1.03);
  }

  .campaign-placeholder {
    width: 100%;
    height: 100%;
    background: #0d0d0d;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.75rem;
    opacity: 0.6;
  }

  .campaign-content {
    padding: 1.25rem;
  }

  .campaign-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    margin-bottom: 0.375rem;
  }

  .campaign-header h3 {
    font-size: 1rem;
    font-weight: 500;
    letter-spacing: -0.01em;
  }

  .campaign-badge {
    font-size: 0.6875rem;
    font-weight: 500;
    color: #555;
    white-space: nowrap;
  }

  .campaign-subtitle {
    font-size: 0.6875rem;
    color: #444;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 0.625rem;
  }

  .campaign-description {
    font-size: 0.875rem;
    color: #666;
    line-height: 1.5;
  }

  /* Visual Work Cards */
  .visual-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  .visual-grid-3 {
    grid-template-columns: repeat(3, 1fr);
  }

  .visual-grid-4 {
    grid-template-columns: repeat(4, 1fr);
  }

  .visual-grid-2 {
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
  }

  .visual-grid-2 .visual-card img {
    height: 200px;
  }

  .visual-grid-2 .swag-visual-preview {
    height: 200px;
  }

  @media (max-width: 600px) {
    .visual-grid {
      grid-template-columns: 1fr;
    }
    .visual-grid-3 {
      grid-template-columns: 1fr;
    }
    .visual-grid-4 {
      grid-template-columns: repeat(2, 1fr);
    }
    .visual-grid-2 {
      grid-template-columns: 1fr;
    }
  }

  .swag-visual-preview {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2px;
    height: 160px;
    overflow: hidden;
  }

  .swag-visual-preview .swag-main {
    grid-row: span 2;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .swag-visual-preview .swag-stack {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .swag-visual-preview .swag-stack img {
    width: 100%;
    height: 50%;
    object-fit: cover;
    flex: 1;
  }

  .visual-card {
    display: block;
    border: 1px solid #1a1a1a;
    border-radius: 6px;
    overflow: hidden;
    transition: all 0.3s ease;
    background: transparent;
  }

  button.visual-card {
    text-align: left;
    font-family: inherit;
    color: inherit;
    cursor: pointer;
    width: 100%;
  }

  .visual-card:hover {
    background: #0f0f0f;
    border-color: #252525;
  }

  .visual-card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    object-position: top;
    display: block;
  }

  .visual-card-small img {
    height: 120px;
  }

  .visual-card img {
    transition: transform 0.4s ease;
  }

  .visual-card:hover img {
    transform: scale(1.03);
  }

  .visual-meta {
    padding: 1rem;
    background: transparent;
  }

  .visual-meta h3 {
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
  }

  .visual-meta p {
    font-size: 0.8125rem;
    color: #555;
  }

  /* Behind the Scenes Card */
  .bts-card {
    position: relative;
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    border: 1px solid #1a1a1a;
    background: transparent;
    font-family: inherit;
    color: inherit;
    text-align: left;
    margin-bottom: 2rem;
    transition: all 0.3s ease;
  }

  .bts-card:hover {
    border-color: #2a2a2a;
  }

  .bts-card img {
    width: 100%;
    height: 300px;
    object-fit: cover;
    display: block;
    transition: transform 0.4s ease;
  }

  .bts-card:hover img {
    transform: scale(1.02);
  }

  .bts-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 2rem 1.5rem 1.5rem;
    background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%);
  }

  .bts-overlay h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    color: #fff;
  }

  .bts-overlay p {
    font-size: 0.875rem;
    color: #999;
  }

  /* Team Videos */
  .team-video-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
  }

  @media (max-width: 600px) {
    .team-video-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 400px) {
    .team-video-grid {
      grid-template-columns: 1fr;
    }
  }

  .team-video-card {
    position: relative;
    display: flex;
    flex-direction: column;
    background: transparent;
    border: 1px solid #1a1a1a;
    border-radius: 6px;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .team-video-card:hover {
    background: #0f0f0f;
    border-color: #252525;
  }

  .team-video-card img {
    width: 100%;
    aspect-ratio: 16/9;
    object-fit: cover;
    display: block;
    transition: transform 0.4s ease;
  }

  .team-video-card:hover img {
    transform: scale(1.03);
  }

  .team-video-play {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s ease;
    background: rgba(0, 0, 0, 0.3);
  }

  .team-video-card:hover .team-video-play {
    opacity: 1;
  }

  .team-video-play svg {
    width: 40px;
    height: 40px;
    color: #fff;
    filter: drop-shadow(0 2px 8px rgba(0,0,0,0.5));
  }

  .team-video-info {
    padding: 1rem;
  }

  .team-video-info h3 {
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.375rem;
    color: #e5e5e5;
  }

  .team-video-info p {
    font-size: 0.8125rem;
    color: #555;
    line-height: 1.45;
    margin-bottom: 0.5rem;
  }

  .team-video-year {
    font-size: 0.6875rem;
    color: #444;
    font-weight: 500;
    letter-spacing: 0.05em;
  }

  /* Swag Hero Preview */
  .swag-hero-preview {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    gap: 2px;
    padding: 0;
    position: relative;
  }

  .swag-hero-preview .swag-preview-main {
    grid-row: span 2;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .swag-hero-preview .swag-preview-stack {
    display: contents;
  }

  .swag-hero-preview .swag-preview-stack img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .swag-preview-count {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 50%;
    height: 50%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
    font-weight: 600;
    color: #fff;
  }

  /* Modal - using :global for dynamically injected content */
  .modal-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(12px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1.5rem;
    z-index: 1001;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
  }

  .modal-backdrop.active {
    opacity: 1;
    visibility: visible;
  }

  .modal {
    background: #111;
    border: 1px solid #222;
    border-radius: 16px;
    max-width: 520px;
    width: 100%;
    max-height: calc(100vh - 3rem);
    overflow-y: auto;
    overflow-x: hidden;
    position: relative;
    transform: translateY(16px);
    opacity: 0;
    transition: transform 0.2s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.2s ease;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .modal::-webkit-scrollbar {
    display: none;
  }

  .modal-backdrop.active .modal {
    transform: translateY(0);
    opacity: 1;
  }

  .modal-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #1a1a1a;
    border: 1px solid #2a2a2a;
    border-radius: 8px;
    cursor: pointer;
    color: #666;
    transition: all 0.15s ease;
    z-index: 10;
  }

  .modal-close:hover {
    color: #999;
    background: #222;
    border-color: #333;
  }

  .modal-close svg {
    width: 14px;
    height: 14px;
  }

  .modal-content {
    padding: 0;
  }

  :global(.modal-image) {
    width: 100%;
    aspect-ratio: 16/10;
    overflow: hidden;
    border-radius: 16px 16px 0 0;
  }

  :global(.modal-image img) {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  :global(.modal-body) {
    padding: 1.5rem;
  }

  :global(.modal-header) {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 1.25rem;
    padding-right: 2.5rem;
  }

  :global(.modal-icon) {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    flex-shrink: 0;
  }

  :global(.modal-header-text) {
    flex: 1;
  }

  :global(.modal-title) {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    color: #fff;
  }

  :global(.modal-subtitle) {
    font-size: 0.75rem;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  :global(.modal-description) {
    font-size: 0.875rem;
    color: #888;
    line-height: 1.6;
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #1a1a1a;
  }

  :global(.modal-metrics) {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
    gap: 0.75rem;
    margin-bottom: 1.5rem;
  }

  :global(.modal-metric) {
    background: #1a1a1a;
    border-radius: 10px;
    padding: 1rem 0.75rem;
    text-align: center;
  }

  :global(.modal-metric-value) {
    font-size: 1.25rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 0.25rem;
  }

  :global(.modal-metric-label) {
    font-size: 0.625rem;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  :global(.modal-sections) {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  :global(.modal-section) {
    background: #1a1a1a;
    border-radius: 10px;
    padding: 1rem;
  }

  :global(.modal-section-title) {
    font-size: 0.6875rem;
    font-weight: 600;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.5rem;
  }

  :global(.modal-section-content) {
    font-size: 0.8125rem;
    color: #999;
    line-height: 1.5;
  }

  :global(.modal-links) {
    display: flex;
    flex-wrap: wrap;
    gap: 0.625rem;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #1a1a1a;
  }

  :global(.modal-link) {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    font-size: 0.8125rem;
    font-weight: 500;
    border-radius: 8px;
    transition: all 0.15s ease;
    text-decoration: none;
  }

  :global(.modal-link-primary) {
    background: #fff;
    color: #000;
  }

  :global(.modal-link-primary:hover) {
    background: #e5e5e5;
    color: #000;
  }

  :global(.modal-link-secondary) {
    background: #1a1a1a;
    color: #888;
    border: 1px solid #2a2a2a;
  }

  :global(.modal-link-secondary:hover) {
    color: #bbb;
    border-color: #3a3a3a;
    background: #222;
  }

  :global(.modal-link svg) {
    width: 14px;
    height: 14px;
  }

  :global(.modal-gallery) {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
    margin-top: 1.5rem;
  }

  :global(.modal-gallery-item) {
    aspect-ratio: 16/9;
    overflow: hidden;
    border-radius: 8px;
  }

  :global(.modal-gallery-item img) {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  :global(.modal-gallery-item:hover img) {
    transform: scale(1.05);
  }

  :global(.modal-blog-posts) {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #1a1a1a;
  }

  :global(.modal-blog-grid) {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin-top: 0.75rem;
  }

  :global(.modal-blog-card) {
    display: block;
    border-radius: 8px;
    overflow: hidden;
    background: #1a1a1a;
    transition: all 0.2s ease;
    text-decoration: none;
  }

  :global(.modal-blog-card:hover) {
    background: #222;
    transform: translateY(-2px);
  }

  :global(.modal-blog-card img) {
    width: 100%;
    height: 80px;
    object-fit: cover;
    display: block;
  }

  :global(.modal-blog-info) {
    padding: 0.625rem 0.75rem;
  }

  :global(.modal-blog-category) {
    font-size: 0.5625rem;
    font-weight: 600;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  :global(.modal-blog-info h4) {
    font-size: 0.75rem;
    font-weight: 500;
    color: #ccc;
    margin-top: 0.25rem;
    line-height: 1.3;
  }

  :global(.modal-before-after) {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #1a1a1a;
  }

  :global(.before-after-grid) {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-top: 0.75rem;
  }

  :global(.before-after-item) {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  :global(.before-after-label) {
    font-size: 0.625rem;
    font-weight: 600;
    color: #555;
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }

  :global(.before-after-item img) {
    width: 100%;
    border-radius: 6px;
    border: 1px solid #222;
  }

  :global(.before-after-tagline) {
    font-size: 0.6875rem;
    color: #666;
    line-height: 1.4;
    font-style: italic;
  }
</style>

<script>
  const backdrop = document.getElementById('modalBackdrop');
  const modal = document.getElementById('modal');
  const modalContent = document.getElementById('modalContent');
  const modalClose = document.getElementById('modalClose');

  // Open modal on card click
  document.querySelectorAll('[data-modal]').forEach(card => {
    card.addEventListener('click', () => {
      const id = card.getAttribute('data-modal');
      const data = (window as any).workData[id];
      if (data) openModal(data);
    });
  });

  // Close modal
  modalClose?.addEventListener('click', closeModal);
  backdrop?.addEventListener('click', (e) => {
    if (e.target === backdrop) closeModal();
  });
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') closeModal();
  });

  function openModal(data: any) {
    const m = data.modal;
    if (!m || !modalContent) return;

    const icon = data.icon || 'üìÅ';

    const metricsHtml = m.metrics ? `
      <div class="modal-metrics">
        ${m.metrics.map((metric: any) => `
          <div class="modal-metric">
            <div class="modal-metric-value">${metric.value}</div>
            <div class="modal-metric-label">${metric.label}</div>
          </div>
        `).join('')}
      </div>
    ` : '';

    // Build sections array
    const sections = [];
    if (m.role) {
      sections.push({ title: 'Role', content: m.role });
    }
    if (m.cohosts) {
      sections.push({ title: 'Co-hosts', content: m.cohosts });
    }
    if (m.guests) {
      sections.push({ title: 'Notable Guests', content: m.guests });
    }
    if (m.highlights) {
      sections.push({ title: 'Highlights', content: m.highlights });
    }

    const sectionsHtml = sections.length ? `
      <div class="modal-sections">
        ${sections.map(s => `
          <div class="modal-section">
            <div class="modal-section-title">${s.title}</div>
            <div class="modal-section-content">${s.content}</div>
          </div>
        `).join('')}
      </div>
    ` : '';

    const linksHtml = m.links ? `
      <div class="modal-links">
        ${m.links.map((link: any) => `
          <a href="${link.url}" target="_blank" class="modal-link ${link.primary ? 'modal-link-primary' : 'modal-link-secondary'}">
            ${link.label}
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
          </a>
        `).join('')}
      </div>
    ` : '';

    // Handle image gallery for swag, single hero image for others
    const hasGallery = m.images && m.images.length > 0;

    const heroImageHtml = (!hasGallery && data.image) ? `
      <div class="modal-image">
        <img src="${data.image}" alt="${data.title}" />
      </div>
    ` : '';

    const galleryHtml = hasGallery ? `
      <div class="modal-gallery">
        ${m.images.map((src: string) => `
          <div class="modal-gallery-item">
            <img src="${src}" alt="${data.title}" />
          </div>
        `).join('')}
      </div>
    ` : '';

    const blogPostsHtml = m.blogPosts ? `
      <div class="modal-blog-posts">
        <div class="modal-section-title">Content Shipped</div>
        <div class="modal-blog-grid">
          ${m.blogPosts.map((post: any) => `
            <a href="${post.url}" target="_blank" class="modal-blog-card">
              <img src="${post.image}" alt="${post.title}" />
              <div class="modal-blog-info">
                <span class="modal-blog-category">${post.category}</span>
                <h4>${post.title}</h4>
              </div>
            </a>
          `).join('')}
        </div>
      </div>
    ` : '';

    const beforeAfterHtml = m.beforeAfter ? `
      <div class="modal-before-after">
        <div class="modal-section-title">The Pivot</div>
        <div class="before-after-grid">
          <div class="before-after-item">
            <span class="before-after-label">${m.beforeAfter.before.label}</span>
            <img src="${m.beforeAfter.before.image}" alt="Before" />
            <p class="before-after-tagline">${m.beforeAfter.before.tagline}</p>
          </div>
          <div class="before-after-item">
            <span class="before-after-label">${m.beforeAfter.after.label}</span>
            <img src="${m.beforeAfter.after.image}" alt="After" />
            <p class="before-after-tagline">${m.beforeAfter.after.tagline}</p>
          </div>
        </div>
      </div>
    ` : '';

    modalContent.innerHTML = `
      ${heroImageHtml}
      <div class="modal-body">
        <div class="modal-header">
          <div class="modal-icon" style="background: ${data.color}20;">${icon}</div>
          <div class="modal-header-text">
            <h2 class="modal-title">${data.title}</h2>
            <span class="modal-subtitle">${data.subtitle}</span>
          </div>
        </div>
        <p class="modal-description">${m.fullDescription}</p>
        ${metricsHtml}
        ${sectionsHtml}
        ${beforeAfterHtml}
        ${galleryHtml}
        ${blogPostsHtml}
        ${linksHtml}
      </div>
    `;

    backdrop?.classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeModal() {
    backdrop?.classList.remove('active');
    document.body.style.overflow = '';
  }
</script>
